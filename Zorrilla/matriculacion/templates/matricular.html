<div class="modal-dialog">
    <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
            <h4 class="modal-title">Datos de {{alumno.nombre}}</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <form id="form_for_curso" method="post">
            {% csrf_token %}
            <div class="modal-body">
                <h4><u>Curso</u></h4>
                <span class="badge badge-secondary">Cursos:</span>
                <select id="curso" onchange="selectCurso(event)">
                    <option value=0>----</option>
                    {% for curso in cursos %}
                        <option value={{curso.id}}>{{curso}}</option>
                    {% endfor %}
                </select>
                <br>
                <br>
                <h4><u>Familiares</u></h4>
                {% if familiares|length == 0 %}
                <span class="badge badge-secondary">Opciones:</span>
                <select id="padress" onchange="show_padres()">
                    <option value=0>No</option>
                    <option value=1>Si</option>
                </select>
                <br>
                <br>
                <div id="btn_asignar_padre">
                    <a onclick="traer('{% url 'todos_los_padres_asignar' alumno.dni %}')">Asignar Padre.</a>
                    <br>
                    <br>
                </div>
                {% else %}
                <ul>
                    {% for familiar in familiares %}
                    <li><a href="{% url 'datos_padre' familiar.padre_madre.dni %}">{{familiar.padre_madre.nombre}} {{familiar.padre_madre.apellido}}</a></li>
                    {% endfor %}
                    <div id="new_padre">
                        <br>
                        <li><a href="{% url 'padres_del_alumno' alumno.dni %}"><u>Desvincular un Familiar.</u></a></li>
                        <br>
                        <li><a onclick="traer('{% url 'todos_los_padres_asignar' alumno.dni %}')"><u>Asignar Otro Padre.</u></a></li>
                    </div>
                </ul>
                {% endif %}

                <h4><u>Transporte</u></h4>
                {% if transportistas|length == 0 %}
                <span class="badge badge-secondary">Opciones:</span>
                <select id="transporte" onchange="show_transportistas()">
                    <option value=0>No</option>
                    <option value=1>Si</option>
                </select>
                <br>
                <br>
                <div id="btn_asignar_transporte">
                    <a onclick="traer('{% url 'todos_los_transportistas_asignar' alumno.dni %}')">Asignar Transportista.</a>
                    <br>
                    <br>
                </div>
                {% else %}
                <ul>
                    {% for transportista in transportistas %}
                    <li><a href="{% url 'datos_transportista' transportista.transportista.dni %}">{{transportista.transportista.apellido}} {{transportista.transportista.nombre}}</a></li>
                    {% endfor %}
                    <br>
                    <li><a href="{% url 'transportistas_del_alumno' alumno.dni %}"><u>Desvincular un Transportista.</u></a></li>
                    <br>
                    <li><a onclick="traer('{% url 'todos_los_transportistas_asignar' alumno.dni %}')"><u>Asignar otro Transportista</u></a></li>
                </ul>
                {% endif %}

                <h4><u>Obras Sociales</u></h4>
                {% if obras_sociales|length == 0 %}
                <span class="badge badge-secondary">Opciones:</span>
                <select id="obrass" onchange="show_obras()">
                    <option value=0>No</option>
                    <option value=1>Si</option>
                </select>
                <br>
                <br>
                <div id="btn_asignar_obra">
                    <a onclick="traer('{% url 'todas_las_obras_sociales_asignar' alumno.dni %}')">Asignar Obra Social.</a>
                    <br>
                    <br>
                </div>
                {% else %}
                <ul>
                    {% for obra_social in obras_sociales %}
                    <li><a href="{% url 'datos_obra_social' obra_social.obra_social.id %}">{{obra_social.obra_social.nombre}} </a></li>
                    {% endfor %}
                    <div id="new_obra">
                        <br>
                        <li><a href="{% url 'obras_sociales_del_alumno' alumno.dni %}"><u>Desvincular una Obra Social.</u></a></li>
                        <br>
                        <li><a onclick="traer('{% url 'todas_las_obras_sociales_asignar' alumno.dni %}')"><u>Asignar Otra Obra Social.</u></a></li>
                    </div>
                </ul>
                {% endif %}

                <input name="select_curso" id="select_curso" value=0  type="hidden">
                <input name="dni_alumno" id="dni_alumno" type="hidden" value="{{alumno.dni}}">

            </div>
        </form>
        <!-- Modal footer -->
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-success" onclick="matricular()">Matricular</button>
        </div>
    </div>
</div>

<script>

    document.getElementById("btn_asignar_transporte").style.display="none";
    document.getElementById("btn_asignar_padre").style.display="none";
    //document.getElementById("btn_asignar_obra").style.display="none";

    function selectCurso(e) {
        document.getElementById("select_curso").value = e.target.value
    }

    function show_transportistas(){
        var x = document.getElementById("transporte").value;
        if (x == 1){
            document.getElementById("btn_asignar_transporte").style.display = "block";
        } else {
            document.getElementById("btn_asignar_transporte").style.display = "none";
        }
    }

    function show_padres(){
        var x = document.getElementById("padress").value;
        if (x == 1){
            document.getElementById("btn_asignar_padre").style.display = "block";
        } else {
            document.getElementById("btn_asignar_padre").style.display = "none";
        }
    }


    function show_obras(){
        var x = document.getElementById("obrass").value;
        if (x == 1){
            document.getElementById("btn_asignar_obra").style.display = "block";
        } else {
            document.getElementById("btn_asignar_obra").style.display = "none";
        }
    }
</script>
